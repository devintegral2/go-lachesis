proxyAbi = JSON.parse('[{"constant":false,"inputs":[{"internalType":"address","name":"newImplementation","type":"address"}],"name":"upgradeTo","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newImplementation","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"upgradeToAndCall","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[],"name":"implementation","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"newAdmin","type":"address"}],"name":"changeAdmin","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"admin","outputs":[{"internalType":"address","name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"previousAdmin","type":"address"},{"indexed":false,"internalType":"address","name":"newAdmin","type":"address"}],"name":"AdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"implementation","type":"address"}],"name":"Upgraded","type":"event"}]');
proxyAddr = "0xfc00face00000000000000000000000000000000";
proxy = web3.ftm.contract(proxyAbi).at(proxyAddr);

sfcAbi = JSON.parse('[{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "addr","type": "address"},{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "bool","name": "isDelegation","type": "bool"},{"indexed": false,"internalType": "uint256","name": "amount","type": "uint256"}],"name": "BurntRewardStash","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "from","type": "address"},{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "reward","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "fromEpoch","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "untilEpoch","type": "uint256"}],"name": "ClaimedDelegationReward","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "reward","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "fromEpoch","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "untilEpoch","type": "uint256"}],"name": "ClaimedValidatorReward","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "delegator","type": "address"},{"indexed": true,"internalType": "uint256","name": "toStakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "amount","type": "uint256"}],"name": "CreatedDelegation","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": true,"internalType": "address","name": "dagSfcAddress","type": "address"},{"indexed": false,"internalType": "uint256","name": "amount","type": "uint256"}],"name": "CreatedStake","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "auth","type": "address"},{"indexed": true,"internalType": "address","name": "receiver","type": "address"},{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "wrID","type": "uint256"},{"indexed": false,"internalType": "bool","name": "delegation","type": "bool"},{"indexed": false,"internalType": "uint256","name": "amount","type": "uint256"}],"name": "CreatedWithdrawRequest","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "delegator","type": "address"},{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "DeactivatedDelegation","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "DeactivatedStake","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "delegator","type": "address"},{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "newAmount","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "diff","type": "uint256"}],"name": "IncreasedDelegation","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "newAmount","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "diff","type": "uint256"}],"name": "IncreasedStake","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "delegator","type": "address"},{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "fromEpoch","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "endTime","type": "uint256"}],"name": "LockingDelegation","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "fromEpoch","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "endTime","type": "uint256"}],"name": "LockingStake","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "previousOwner","type": "address"},{"indexed": true,"internalType": "address","name": "newOwner","type": "address"}],"name": "OwnershipTransferred","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "auth","type": "address"},{"indexed": true,"internalType": "address","name": "receiver","type": "address"},{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "wrID","type": "uint256"},{"indexed": false,"internalType": "bool","name": "delegation","type": "bool"},{"indexed": false,"internalType": "uint256","name": "penalty","type": "uint256"}],"name": "PartialWithdrawnByRequest","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "delegator","type": "address"},{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "PreparedToWithdrawDelegation","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "PreparedToWithdrawStake","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "auth","type": "address"},{"indexed": true,"internalType": "address","name": "receiver","type": "address"},{"indexed": false,"internalType": "uint256","name": "rewards","type": "uint256"}],"name": "UnstashedRewards","type": "event"},{"anonymous": false,"inputs": [{"indexed": false,"internalType": "uint256","name": "value","type": "uint256"}],"name": "UpdatedBaseRewardPerSec","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "delegator","type": "address"},{"indexed": true,"internalType": "uint256","name": "oldStakerID","type": "uint256"},{"indexed": true,"internalType": "uint256","name": "newStakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "amount","type": "uint256"}],"name": "UpdatedDelegation","type": "event"},{"anonymous": false,"inputs": [{"indexed": false,"internalType": "uint256","name": "short","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "long","type": "uint256"}],"name": "UpdatedGasPowerAllocationRate","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "amount","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "delegatedMe","type": "uint256"}],"name": "UpdatedStake","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "UpdatedStakerMetadata","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": true,"internalType": "address","name": "oldSfcAddress","type": "address"},{"indexed": true,"internalType": "address","name": "newSfcAddress","type": "address"}],"name": "UpdatedStakerSfcAddress","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "address","name": "delegator","type": "address"},{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "penalty","type": "uint256"}],"name": "WithdrawnDelegation","type": "event"},{"anonymous": false,"inputs": [{"indexed": true,"internalType": "uint256","name": "stakerID","type": "uint256"},{"indexed": false,"internalType": "uint256","name": "penalty","type": "uint256"}],"name": "WithdrawnStake","type": "event"},{"constant": true,"inputs": [{"internalType": "bool","name": "isDelegation","type": "bool"},{"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "_rewardsBurnableOnDeactivation","outputs": [{"internalType": "bool","name": "","type": "bool"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "address","name": "sfcAddress","type": "address"}],"name": "_sfcAddressToStakerID","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"internalType": "address","name": "delegator","type": "address"},{"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "_syncDelegator","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "_syncStaker","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "_upgradeStakerStorage","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "bondedRatio","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "bondedTargetPeriod","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "bondedTargetRewardUnlock","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "bondedTargetStart","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [{"internalType": "address","name": "delegator","type": "address"},{"internalType": "uint256","name": "stakerID","type": "uint256"},{"internalType": "uint256","name": "_fromEpoch","type": "uint256"},{"internalType": "uint256","name": "maxEpochs","type": "uint256"}],"name": "calcDelegationRewards","outputs": [{"internalType": "uint256","name": "","type": "uint256"},{"internalType": "uint256","name": "","type": "uint256"},{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "uint256","name": "stakerID","type": "uint256"},{"internalType": "uint256","name": "_fromEpoch","type": "uint256"},{"internalType": "uint256","name": "maxEpochs","type": "uint256"}],"name": "calcValidatorRewards","outputs": [{"internalType": "uint256","name": "","type": "uint256"},{"internalType": "uint256","name": "","type": "uint256"},{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "maxEpochs","type": "uint256"},{"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "claimDelegationRewards","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "maxEpochs","type": "uint256"}],"name": "claimValidatorRewards","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "contractCommission","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "to","type": "uint256"}],"name": "createDelegation","outputs": [],"payable": true,"stateMutability": "payable","type": "function"},{"constant": false,"inputs": [{"internalType": "bytes","name": "metadata","type": "bytes"}],"name": "createStake","outputs": [],"payable": true,"stateMutability": "payable","type": "function"},{"constant": false,"inputs": [{"internalType": "address","name": "dagAdrress","type": "address"},{"internalType": "address","name": "sfcAddress","type": "address"},{"internalType": "bytes","name": "metadata","type": "bytes"}],"name": "createStakeWithAddresses","outputs": [],"payable": true,"stateMutability": "payable","type": "function"},{"constant": true,"inputs": [],"name": "currentEpoch","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "currentSealedEpoch","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "delegationLockPeriodEpochs","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "delegationLockPeriodTime","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [{"internalType": "address","name": "","type": "address"}],"name": "delegations","outputs": [{"internalType": "uint256","name": "createdEpoch","type": "uint256"},{"internalType": "uint256","name": "createdTime","type": "uint256"},{"internalType": "uint256","name": "deactivatedEpoch","type": "uint256"},{"internalType": "uint256","name": "deactivatedTime","type": "uint256"},{"internalType": "uint256","name": "amount","type": "uint256"},{"internalType": "uint256","name": "paidUntilEpoch","type": "uint256"},{"internalType": "uint256","name": "toStakerID","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "delegationsNum","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "delegationsTotalAmount","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "address","name": "","type": "address"},{"internalType": "uint256","name": "","type": "uint256"}],"name": "delegations_v2","outputs": [{"internalType": "uint256","name": "createdEpoch","type": "uint256"},{"internalType": "uint256","name": "createdTime","type": "uint256"},{"internalType": "uint256","name": "deactivatedEpoch","type": "uint256"},{"internalType": "uint256","name": "deactivatedTime","type": "uint256"},{"internalType": "uint256","name": "amount","type": "uint256"},{"internalType": "uint256","name": "paidUntilEpoch","type": "uint256"},{"internalType": "uint256","name": "toStakerID","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "uint256","name": "","type": "uint256"}],"name": "epochSnapshots","outputs": [{"internalType": "uint256","name": "endTime","type": "uint256"},{"internalType": "uint256","name": "duration","type": "uint256"},{"internalType": "uint256","name": "epochFee","type": "uint256"},{"internalType": "uint256","name": "totalBaseRewardWeight","type": "uint256"},{"internalType": "uint256","name": "totalTxRewardWeight","type": "uint256"},{"internalType": "uint256","name": "baseRewardPerSecond","type": "uint256"},{"internalType": "uint256","name": "stakeTotalAmount","type": "uint256"},{"internalType": "uint256","name": "delegationsTotalAmount","type": "uint256"},{"internalType": "uint256","name": "totalSupply","type": "uint256"},{"internalType": "uint256","name": "totalLockedAmount","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "uint256","name": "e","type": "uint256"},{"internalType": "uint256","name": "v","type": "uint256"}],"name": "epochValidator","outputs": [{"internalType": "uint256","name": "stakeAmount","type": "uint256"},{"internalType": "uint256","name": "delegatedMe","type": "uint256"},{"internalType": "uint256","name": "baseRewardWeight","type": "uint256"},{"internalType": "uint256","name": "txRewardWeight","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "firstLockedUpEpoch","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "address","name": "addr","type": "address"}],"name": "getStakerID","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "to","type": "uint256"}],"name": "increaseDelegation","outputs": [],"payable": true,"stateMutability": "payable","type": "function"},{"constant": false,"inputs": [],"name": "increaseStake","outputs": [],"payable": true,"stateMutability": "payable","type": "function"},{"constant": true,"inputs": [],"name": "isOwner","outputs": [{"internalType": "bool","name": "","type": "bool"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "lockDuration","type": "uint256"},{"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "lockUpDelegation","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "lockDuration","type": "uint256"}],"name": "lockUpStake","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [{"internalType": "address","name": "","type": "address"},{"internalType": "uint256","name": "","type": "uint256"}],"name": "lockedDelegations","outputs": [{"internalType": "uint256","name": "fromEpoch","type": "uint256"},{"internalType": "uint256","name": "endTime","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "uint256","name": "","type": "uint256"}],"name": "lockedStakes","outputs": [{"internalType": "uint256","name": "fromEpoch","type": "uint256"},{"internalType": "uint256","name": "endTime","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "maxDelegatedRatio","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "maxStakerMetadataSize","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "minDelegation","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "minDelegationDecrease","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "minDelegationIncrease","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "minStake","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "minStakeDecrease","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "minStakeIncrease","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "owner","outputs": [{"internalType": "address","name": "","type": "address"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "wrID","type": "uint256"}],"name": "partialWithdrawByRequest","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "prepareToWithdrawDelegation","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "wrID","type": "uint256"},{"internalType": "uint256","name": "stakerID","type": "uint256"},{"internalType": "uint256","name": "amount","type": "uint256"}],"name": "prepareToWithdrawDelegationPartial","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [],"name": "prepareToWithdrawStake","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "wrID","type": "uint256"},{"internalType": "uint256","name": "amount","type": "uint256"}],"name": "prepareToWithdrawStakePartial","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [],"name": "renounceOwnership","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "rewardsAllowed","outputs": [{"internalType": "bool","name": "","type": "bool"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "address","name": "","type": "address"},{"internalType": "uint256","name": "","type": "uint256"}],"name": "rewardsStash","outputs": [{"internalType": "uint256","name": "amount","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "slashedDelegationsTotalAmount","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "slashedStakeTotalAmount","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "stakeLockPeriodEpochs","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "stakeLockPeriodTime","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "stakeTotalAmount","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "uint256","name": "","type": "uint256"}],"name": "stakerMetadata","outputs": [{"internalType": "bytes","name": "","type": "bytes"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [{"internalType": "uint256","name": "","type": "uint256"}],"name": "stakers","outputs": [{"internalType": "uint256","name": "status","type": "uint256"},{"internalType": "uint256","name": "createdEpoch","type": "uint256"},{"internalType": "uint256","name": "createdTime","type": "uint256"},{"internalType": "uint256","name": "deactivatedEpoch","type": "uint256"},{"internalType": "uint256","name": "deactivatedTime","type": "uint256"},{"internalType": "uint256","name": "stakeAmount","type": "uint256"},{"internalType": "uint256","name": "paidUntilEpoch","type": "uint256"},{"internalType": "uint256","name": "delegatedMe","type": "uint256"},{"internalType": "address","name": "dagAddress","type": "address"},{"internalType": "address","name": "sfcAddress","type": "address"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "stakersLastID","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": true,"inputs": [],"name": "stakersNum","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "view","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "epochNum","type": "uint256"}],"name": "startLockedUp","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "address","name": "newOwner","type": "address"}],"name": "transferOwnership","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "unbondingStartDate","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "unbondingUnlockPeriod","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": true,"inputs": [],"name": "unlockedRatio","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": false,"inputs": [],"name": "unstashRewards","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "value","type": "uint256"}],"name": "updateBaseRewardPerSec","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "short","type": "uint256"},{"internalType": "uint256","name": "long","type": "uint256"}],"name": "updateGasPowerAllocationRate","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "bytes","name": "metadata","type": "bytes"}],"name": "updateStakerMetadata","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [{"internalType": "address","name": "newSfcAddress","type": "address"}],"name": "updateStakerSfcAddress","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [],"name": "validatorCommission","outputs": [{"internalType": "uint256","name": "","type": "uint256"}],"payable": false,"stateMutability": "pure","type": "function"},{"constant": false,"inputs": [{"internalType": "uint256","name": "stakerID","type": "uint256"}],"name": "withdrawDelegation","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": false,"inputs": [],"name": "withdrawStake","outputs": [],"payable": false,"stateMutability": "nonpayable","type": "function"},{"constant": true,"inputs": [{"internalType": "address","name": "","type": "address"},{"internalType": "uint256","name": "","type": "uint256"}],"name": "withdrawalRequests","outputs": [{"internalType": "uint256","name": "stakerID","type": "uint256"},{"internalType": "uint256","name": "epoch","type": "uint256"},{"internalType": "uint256","name": "time","type": "uint256"},{"internalType": "uint256","name": "amount","type": "uint256"},{"internalType": "bool","name": "delegation","type": "bool"}],"payable": false,"stateMutability": "view","type": "function"}]');
receipt = ftm.sendTransaction({from: ftm.coinbase, data:"0x60806040819052600080546001600160a01b031916339081178255918291907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908290a350615426806100536000396000f3fe6080604052600436106104475760003560e01c80638da5cb5b11610234578063c41b64051161012e578063dd099bb6116100b6578063f2fde38b1161007a578063f2fde38b1461102c578063f3ae5b1a1461105f578063f8b18d8a14611089578063f99837e6146110b3578063fd5e6dd1146110e357610447565b8063dd099bb614610f5c578063df0e307a14610fae578063df4f49d414610fd8578063eac3baf214611002578063ec6a7f1c1461075257610447565b8063cc8c2120116100fd578063cc8c212014610e37578063ce5aa00014610edd578063d845fc9014610ef2578063d9e257ef14610f37578063dbd3aa8a14610f3f57610447565b8063c41b640514610df8578063c4b5dd7e1461044c578063c9400d4f14610e0d578063cb1c4e671461044c57610447565b8063ab2273c0116101bc578063bb03a4bd11610180578063bb03a4bd14610d2a578063bed9d86114610d60578063bffe348614610d75578063c312eb0714610da8578063c3d74f1a14610dc557610447565b8063ab2273c014610c30578063b1a3ebfa14610c45578063b1e6433914610c77578063b42cb58d14610ca1578063b9029d5014610cd457610447565b806398ec2de51161020357806398ec2de514610ac6578063a4b89fab14610b65578063a70da4d214610b95578063a742b3d714610baa578063a778651514610c1b57610447565b80638da5cb5b1461096d5780638f32d59b1461099e57806390475ae4146109b357806396060e7114610a7257610447565b80633fee10a8116103455780636a1cf400116102cd5780637b8c6b02116102915780637b8c6b02146108f05780637cacb1d61461090557806381d9dc7a1461091a5780638447c4df1461092f578063876f7e2a1461095857610447565b80636a1cf400146108635780636e1a767a146108785780636f4986631461088d578063715018a6146108c657806376671808146108db57610447565b806354d77ed21161031457806354d77ed21461050e5780635dc03f1f146107f757806360c7e37f1461044c57806363321e271461083057806365cca35d146105e257610447565b80633fee10a8146107525780634bd202dc146107675780634e5a23281461077c57806353a72586146107e257610447565b80632265f284116103d357806330fa99291161039757806330fa99291461064b57806333a1491214610660578063375b3c0a146107135780633a0af4d4146107285780633d0317fe1461073d57610447565b80632265f2841461059d57806326682c71146105b25780632709275e146105e257806328dca8ff146105f7578063295cccba1461062157610447565b8063119e351a1161041a578063119e351a146104b257806319ddb54f1461044c5780631b593d8a146104e45780631d58179c1461050e5780631e8a69561461052357610447565b8063029859921461044c578063041d97a31461047357806308728f6e146104885780630a29180c1461049d575b600080fd5b34801561045857600080fd5b50610461611169565b60408051918252519081900360200190f35b34801561047f57600080fd5b50610461611176565b34801561049457600080fd5b506104616111f1565b3480156104a957600080fd5b506104616111f7565b3480156104be57600080fd5b506104e2600480360360408110156104d557600080fd5b50803590602001356111fd565b005b3480156104f057600080fd5b506104e26004803603602081101561050757600080fd5b5035611283565b34801561051a57600080fd5b50610461611300565b34801561052f57600080fd5b5061054d6004803603602081101561054657600080fd5b5035611305565b604080519a8b5260208b0199909952898901979097526060890195909552608088019390935260a087019190915260c086015260e085015261010084015261012083015251908190036101400190f35b3480156105a957600080fd5b50610461611359565b3480156105be57600080fd5b506104e2600480360360408110156105d557600080fd5b5080359060200135611360565b3480156105ee57600080fd5b5061046161165e565b34801561060357600080fd5b506104e26004803603602081101561061a57600080fd5b503561166e565b34801561062d57600080fd5b506104e26004803603602081101561064457600080fd5b503561170b565b34801561065757600080fd5b506104616117bf565b34801561066c57600080fd5b506104e26004803603602081101561068357600080fd5b81019060208101813564010000000081111561069e57600080fd5b8201836020820111156106b057600080fd5b803590602001918460018302840111640100000000831117156106d257600080fd5b91908080601f0160208091040260200160405190810160405280939291908181526020018383808284376000920191909152509295506117c5945050505050565b34801561071f57600080fd5b5061046161187a565b34801561073457600080fd5b50610461611889565b34801561074957600080fd5b50610461611890565b34801561075e57600080fd5b50610461611896565b34801561077357600080fd5b5061046161189d565b34801561078857600080fd5b506107b56004803603604081101561079f57600080fd5b506001600160a01b0381351690602001356118a3565b60408051958652602086019490945284840192909252606084015215156080830152519081900360a00190f35b3480156107ee57600080fd5b506104616118e0565b34801561080357600080fd5b506104e26004803603604081101561081a57600080fd5b506001600160a01b0381351690602001356118e8565b34801561083c57600080fd5b506104616004803603602081101561085357600080fd5b50356001600160a01b031661195d565b34801561086f57600080fd5b5061046161197c565b34801561088457600080fd5b506104616119e5565b34801561089957600080fd5b50610461600480360360408110156108b057600080fd5b506001600160a01b0381351690602001356119eb565b3480156108d257600080fd5b506104e2611a08565b3480156108e757600080fd5b50610461611a99565b3480156108fc57600080fd5b50610461611aa2565b34801561091157600080fd5b50610461611aaa565b34801561092657600080fd5b50610461611ab0565b34801561093b57600080fd5b50610944611ab6565b604080519115158252519081900360200190f35b34801561096457600080fd5b506104e2611aea565b34801561097957600080fd5b50610982611c44565b604080516001600160a01b039092168252519081900360200190f35b3480156109aa57600080fd5b50610944611c53565b6104e2600480360360608110156109c957600080fd5b6001600160a01b0382358116926020810135909116918101906060810160408201356401000000008111156109fd57600080fd5b820183602082011115610a0f57600080fd5b80359060200191846001830284011164010000000083111715610a3157600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550611c64945050505050565b348015610a7e57600080fd5b50610aa860048036036060811015610a9557600080fd5b5080359060208101359060400135611cd8565b60408051938452602084019290925282820152519081900360600190f35b348015610ad257600080fd5b50610af060048036036020811015610ae957600080fd5b5035611d7a565b6040805160208082528351818301528351919283929083019185019080838360005b83811015610b2a578181015183820152602001610b12565b50505050905090810190601f168015610b575780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b348015610b7157600080fd5b506104e260048036036040811015610b8857600080fd5b5080359060200135611e15565b348015610ba157600080fd5b506104616120b3565b348015610bb657600080fd5b50610be360048036036040811015610bcd57600080fd5b506001600160a01b0381351690602001356120b9565b604080519788526020880196909652868601949094526060860192909252608085015260a084015260c0830152519081900360e00190f35b348015610c2757600080fd5b50610461612108565b348015610c3c57600080fd5b50610461612115565b348015610c5157600080fd5b5061094460048036036040811015610c6857600080fd5b5080351515906020013561211b565b348015610c8357600080fd5b506104e260048036036020811015610c9a57600080fd5b5035612172565b348015610cad57600080fd5b5061046160048036036020811015610cc457600080fd5b50356001600160a01b03166122f2565b348015610ce057600080fd5b50610d0460048036036040811015610cf757600080fd5b5080359060200135612347565b604080519485526020850193909352838301919091526060830152519081900360800190f35b348015610d3657600080fd5b506104e260048036036060811015610d4d57600080fd5b508035906020810135906040013561237a565b348015610d6c57600080fd5b506104e26127b7565b348015610d8157600080fd5b50610be360048036036020811015610d9857600080fd5b50356001600160a01b0316612a89565b6104e260048036036020811015610dbe57600080fd5b5035612ac6565b348015610dd157600080fd5b506104e260048036036020811015610de857600080fd5b50356001600160a01b0316612d9e565b348015610e0457600080fd5b506104e2612f99565b348015610e1957600080fd5b506104e260048036036020811015610e3057600080fd5b503561309a565b6104e260048036036020811015610e4d57600080fd5b810190602081018135640100000000811115610e6857600080fd5b820183602082011115610e7a57600080fd5b80359060200191846001830284011164010000000083111715610e9c57600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600092019190915250929550613195945050505050565b348015610ee957600080fd5b506104616131a4565b348015610efe57600080fd5b50610aa860048036036080811015610f1557600080fd5b506001600160a01b0381351690602081013590604081013590606001356131b2565b6104e2613325565b6104e260048036036020811015610f5557600080fd5b5035613417565b348015610f6857600080fd5b50610f9560048036036040811015610f7f57600080fd5b506001600160a01b03813516906020013561363a565b6040805192835260208301919091528051918290030190f35b348015610fba57600080fd5b506104e260048036036020811015610fd157600080fd5b503561365e565b348015610fe457600080fd5b50610f9560048036036020811015610ffb57600080fd5b503561394e565b34801561100e57600080fd5b506104e26004803603602081101561102557600080fd5b5035613967565b34801561103857600080fd5b506104e26004803603602081101561104f57600080fd5b50356001600160a01b03166139c6565b34801561106b57600080fd5b506104e26004803603602081101561108257600080fd5b5035613a16565b34801561109557600080fd5b506104e2600480360360208110156110ac57600080fd5b5035613bf5565b3480156110bf57600080fd5b506104e2600480360360408110156110d657600080fd5b508035906020013561402c565b3480156110ef57600080fd5b5061110d6004803603602081101561110657600080fd5b5035614114565b604080519a8b5260208b0199909952898901979097526060890195909552608088019390935260a087019190915260c086015260e08501526001600160a01b039081166101008501521661012083015251908190036101400190f35b670de0b6b3a76400005b90565b601e546000908152601f60205260408120600901548061119a576000915050611173565b601e546000908152601f6020526040812060088101546007909101546111c59163ffffffff61417116565b90506111ea826111de83620f424063ffffffff6141cb16565b9063ffffffff61422416565b9250505090565b60235481565b60285481565b611205611c53565b611244576040805162461bcd60e51b815260206004820181905260248201526000805160206153d2833981519152604482015290519081900360640190fd5b604080518381526020810183905281517f95ae5488127de4bc98492f4487556e7af9f37eb4b6d5e94f6d849e03ff76cc7c929181900390910190a15050565b61128b611c53565b6112ca576040805162461bcd60e51b815260206004820181905260248201526000805160206153d2833981519152604482015290519081900360640190fd5b6040805182815290517f8cd9dae1bbea2bc8a5e80ffce2c224727a25925130a03ae100619a8861ae23969181900360200190a150565b600390565b601f60205280600052604060002060009150905080600101549080600201549080600301549080600401549080600501549080600601549080600701549080600801549080600901549080600a015490508a565b62e4e1c090565b33600061136c826122f2565b905061137781614266565b611380816142ca565b60008181526030602052604090205415806113ab575060008181526030602052604090206001015442115b6113ee576040805162461bcd60e51b815260206004820152600f60248201526e1cdd185ad9481a5cc81b1bd8dad959608a1b604482015290519081900360640190fd5b6113f6611169565b83101561143d576040805162461bcd60e51b815260206004820152601060248201526f1d1bdbc81cdb585b1b08185b5bdd5b9d60821b604482015290519081900360640190fd5b60008181526020805260409020600501548061145761187a565b850111156114ac576040805162461bcd60e51b815260206004820152601c60248201527f6d757374206c65617665206174206c65617374206d696e5374616b6500000000604482015290519081900360640190fd5b6000828152602080526040902060070154848203906114ca8261432a565b1015611514576040805162461bcd60e51b8152602060048201526014602482015273746f6f206d7563682064656c65676174696f6e7360601b604482015290519081900360640190fd5b6001600160a01b0384166000908152602d6020908152604080832089845290915290206003015415611583576040805162461bcd60e51b81526020600482015260136024820152727772494420616c72656164792065786973747360681b604482015290519081900360640190fd5b61159160008486888661434b565b600083815260208080526040808320600501805489900390556001600160a01b0387168352602d825280832089845290915290208381556003018590556115d6611a99565b6001600160a01b0385166000818152602d602090815260408083208b8452825280832060018101959095554260029095019490945583518a8152908101919091528083018890529151859282917fde2d2a87af2fa2de55bde86f04143144eb632fa6be266dc224341a371fb8916d9181900360600190a461165683613967565b505050505050565b600060646301c9c3805b04905090565b60008181526020805260409020600901546001600160a01b0316156116cc576040805162461bcd60e51b815260206004820152600f60248201526e185b1c9958591e481d5c19185d1959608a1b604482015290519081900360640190fd5b6116d58161445c565b600090815260208052604090206008810154600990910180546001600160a01b0319166001600160a01b03909216919091179055565b336000611717826122f2565b90506117228161445c565b600080600061173384600088611cd8565b600087815260208052604090206006015492955090935091506117579083836144b5565b600084815260208052604090206006018190556117748584614590565b6040805184815260208101849052808201839052905185917f2ea54c2b22a07549d19fb5eb8e4e48ebe1c653117215e94d5468c5612750d35c919081900360600190a2505050505050565b60265481565b60006117d0336122f2565b90506117db8161445c565b6117e3612115565b8251111561182b576040805162461bcd60e51b815260206004820152601060248201526f746f6f20626967206d6574616461746160801b604482015290519081900360640190fd5b6000818152602b60209081526040909120835161184a92850190615209565b5060405181907fb7a99a0df6a9e15c2689e6a55811ef76cdb514c67d4a0e37fcb125ada0e3cd8390600090a25050565b6a02a055184a310c1260000090565b62ed4e0090565b60245481565b62093a8090565b60255481565b602d602090815260009283526040808420909152908252902080546001820154600283015460038401546004909401549293919290919060ff1685565b635e0580f890565b6118f182614640565b6118fb8282614708565b6001600160a01b0382166000818152602e6020908152604080832085845282529182902060040154825190815291518493849390927f19b46b9014e4dc8ca74f505b8921797c6a8a489860217d15b3c7d741637dfcff92918290030190a45050565b6001600160a01b0381166000908152602160205260409020545b919050565b60008061199761198a6118e0565b429063ffffffff61478016565b905060006119b96119a6611aa2565b6111de620f42408563ffffffff6141cb16565b90506119c36131a4565b81106119d457600092505050611173565b806119dd6131a4565b039250505090565b602f5481565b602c60209081526000928352604080842090915290825290205481565b611a10611c53565b611a4f576040805162461bcd60e51b815260206004820181905260248201526000805160206153d2833981519152604482015290519081900360640190fd5b600080546040516001600160a01b03909116907f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0908390a3600080546001600160a01b0319169055565b601e5460010190565b63039ada0090565b601e5481565b60225481565b6000611ac0611889565b611ac86118e0565b0142101580611ae55750611ada61197c565b611ae2611176565b10155b905090565b336000818152602c60209081526040808320838052909152902054819080611b46576040805162461bcd60e51b815260206004820152600a6024820152696e6f207265776172647360b01b604482015290519081900360640190fd5b611b4e611ab6565b611b9f576040805162461bcd60e51b815260206004820152601c60248201527f6265666f7265206d696e696d756d20756e6c6f636b20706572696f6400000000604482015290519081900360640190fd5b6001600160a01b038084166000908152602c60209081526040808320838052909152808220829055519184169183156108fc0291849190818181858888f19350505050158015611bf3573d6000803e3d6000fd5b50816001600160a01b0316836001600160a01b03167f80b36a0e929d7e7925087e54acfeecf4c6043e451b9d71ac5e908b66f9e5d126836040518082815260200191505060405180910390a3505050565b6000546001600160a01b031690565b6000546001600160a01b0316331490565b6001600160a01b03831615801590611c8457506001600160a01b03821615155b611cc7576040805162461bcd60e51b815260206004820152600f60248201526e696e76616c6964206164647265737360881b604482015290519081900360640190fd5b611cd3838334846147c2565b505050565b600080600080611d0186602060008a815260200190815260200160002060060154600101614a0b565b60008881526020805260409020600601549091508111611d2957600093509150829050611d71565b600080825b601e548111158015611d41575087840181105b15611d6757611d588a82611d53612108565b614a20565b90920191905060018101611d2e565b5090945090925090505b93509350939050565b602b6020908152600091825260409182902080548351601f600260001961010060018616150201909316929092049182018490048402810184019094528084529091830182828015611e0d5780601f10611de257610100808354040283529160200191611e0d565b820191906000526020600020905b815481529060010190602001808311611df057829003601f168201915b505050505081565b602f5415801590611e3b5750601e54611e3590600163ffffffff61417116565b602f5411155b611e88576040805162461bcd60e51b81526020600482015260196024820152781999585d1d5c99481dd85cc81b9bdd081858dd1a5d985d1959603a1b604482015290519081900360640190fd5b33611e938183614708565b600082815260208052604090205415611eed576040805162461bcd60e51b81526020600482015260176024820152767374616b65722073686f756c642062652061637469766560481b604482015290519081900360640190fd5b621275008310158015611f0457506301e133808311155b611f4a576040805162461bcd60e51b815260206004820152601260248201527134b731b7b93932b1ba10323ab930ba34b7b760711b604482015290519081900360640190fd5b6000611f5c428563ffffffff61417116565b600084815260306020526040902060010154909150811115611faf5760405162461bcd60e51b81526004018080602001828103825260228152602001806153496022913960400191505060405180910390fd5b6001600160a01b0382166000908152603160209081526040808320868452909152902060010154811161201d576040805162461bcd60e51b81526020600482015260116024820152700616c7265616479206c6f636b656420757607c1b604482015290519081900360640190fd5b6040518060400160405280612030611a99565b815260209081018390526001600160a01b03841660008181526031835260408082208883528452902083518155929091015160019092019190915583907f823f252f996e1f519fd0215db7eb4d5a688d78587bf03bfb03d77bfca939806d612096611a99565b60408051918252602082018690528051918290030190a350505050565b60275481565b602e602052816000526040600020602052806000526040600020600091509150508060000154908060010154908060020154908060030154908060040154908060050154908060060154905087565b6000606462e4e1c0611668565b61010090565b6000821580612169575060008281526020805260409020600501541580159061214f57506000828152602080526040902054155b801561216957506000828152602080526040902060040154155b90505b92915050565b3361217c81614640565b6121868183614b5b565b6001600160a01b0381166000908152602e6020908152604080832085845290915290206121b38284614bde565b6121c9600184848460040154856004015461434b565b6121d1611a99565b6002820155426003820155600481015460008481526020805260409020600501541561222a576000848152602080526040902060070154612218908263ffffffff61478016565b60008581526020805260409020600701555b6000602f541180156122405750602f54601e5410155b156122b6576001600160a01b03831660009081526031602090815260408083208784529091529020600101544210156122b6576000612280848684614c54565b9050818110156122a35760048301805482900390556026805482900390556122b4565b602680548390039055600060048401555b505b60405184906001600160a01b038516907f912c4125a208704a342cbdc4726795d26556b0170b7fc95bc706d5cb1f50646990600090a350505050565b6001600160a01b0381166000908152602160205260408120548061231a576000915050611977565b60008181526020805260409020600901546001600160a01b0384811691161461216c576000915050611977565b6000918252601f602090815260408084209284529190529020805460018201546002830154600390930154919390929190565b3361238481614640565b61238e8184614b5b565b6001600160a01b0381166000908152602e6020908152604080832086845290915290206123bb8285614bde565b6123c3611169565b83101561240a576040805162461bcd60e51b815260206004820152601060248201526f1d1bdbc81cdb585b1b08185b5bdd5b9d60821b604482015290519081900360640190fd5b600481015480612418611169565b850111156124575760405162461bcd60e51b815260040180806020018281038252602181526020018061536b6021913960400191505060405180910390fd5b6001600160a01b0383166000908152602d60209081526040808320898452909152902060030154156124c6576040805162461bcd60e51b81526020600482015260136024820152727772494420616c72656164792065786973747360681b604482015290519081900360640190fd5b6124d460018685878561434b565b602f54600090158015906124ec5750602f54601e5410155b15612688576001600160a01b038416600090815260316020908152604080832089845290915290206001015442101561267f57600061252c858888614c54565b600485018054889003908190559091508110156125b75760048401805482900390556026805482900390556000878152602080526040902060050154156125b25760008781526020805260409020600701546125a0908290612594908963ffffffff61478016565b9063ffffffff61478016565b60008881526020805260409020600701555b612679565b60008781526020805260409020600501541561260457600484015460008881526020805260409020600701546125f29163ffffffff61478016565b60008881526020805260409020600701555b61260c611a99565b600285015542600385015560405187906001600160a01b038716907f912c4125a208704a342cbdc4726795d26556b0170b7fc95bc706d5cb1f50646990600090a3600484015490038581101561266f576026805482900390559485900394612679565b5050505050611cd3565b50612683565b5060015b61268c565b5060015b80156126e65760048301805486900390556000868152602080526040902060050154156126e65760008681526020805260409020600701546126d4908663ffffffff61478016565b60008781526020805260409020600701555b6001600160a01b0384166000908152602d602090815260408083208a8452909152902086815560030185905561271a611a99565b6001600160a01b0385166000818152602d602090815260408083208c8452825291829020600180820195909555426002820155600401805460ff19168517905581518b81529081019390935282810188905251889282917fde2d2a87af2fa2de55bde86f04143144eb632fa6be266dc224341a371fb8916d9181900360600190a46127a584876118e8565b6127ae86613967565b50505050505050565b3360006127c3826122f2565b6000818152602080526040902060040154909150612828576040805162461bcd60e51b815260206004820152601960248201527f7374616b6572207761736e277420646561637469766174656400000000000000604482015290519081900360640190fd5b612830611896565b60008281526020805260409020600401540142101561288f576040805162461bcd60e51b81526020600482015260166024820152751b9bdd08195b9bdd59da081d1a5b59481c185cdcd95960521b604482015290519081900360640190fd5b612897611300565b6000828152602080526040902060030154016128b1611a99565b10156128ff576040805162461bcd60e51b81526020600482015260186024820152771b9bdd08195b9bdd59da08195c1bd8da1cc81c185cdcd95960421b604482015290519081900360640190fd5b600081815260208080526040808320600881018054600583018054845488865560018087018a9055600287018a9055600387018a9055600487018a90559289905560068601899055600786018990556001600160a01b031980851690955560099095018054909416909355602b9095529285206001600160a01b0390931694909390929082161515906129929084615287565b6001600160a01b0380881660009081526021602052604080822082905591871681529081205581156129cf57600086815260208052604090208290555b602380546000190190556024546129ec908563ffffffff61478016565b60245580612a30576040516001600160a01b0388169085156108fc029086906000818181858888f19350505050158015612a2a573d6000803e3d6000fd5b50612a34565b8392505b602854612a47908463ffffffff61417116565b60285560408051848152905187917f8c6548258f8f12a9d4b593fa89a223417ed901d4ee9712ba09beb4d56f5262b6919081900360200190a250505050505050565b6029602052600090815260409020805460018201546002830154600384015460048501546005860154600690960154949593949293919290919087565b33612ad082614ce9565b612ad8611169565b341015612b22576040805162461bcd60e51b81526020600482015260136024820152721a5b9cdd59999a58da595b9d08185b5bdd5b9d606a1b604482015290519081900360640190fd5b6001600160a01b0381166000908152602e6020908152604080832085845290915290206004015415612b9b576040805162461bcd60e51b815260206004820152601960248201527f64656c65676174696f6e20616c72656164792065786973747300000000000000604482015290519081900360640190fd5b6001600160a01b03811660009081526021602052604090205415612bf8576040805162461bcd60e51b815260206004820152600f60248201526e616c7265616479207374616b696e6760881b604482015290519081900360640190fd5b6000828152602080526040902060070154612c19903463ffffffff61417116565b6000838152602080526040902060050154612c339061432a565b1015612c86576040805162461bcd60e51b815260206004820152601a60248201527f7374616b65722773206c696d6974206973206578636565646564000000000000604482015290519081900360640190fd5b612c8e6152cb565b612c96611a99565b8152426020808301918252346080840181815260c08501878152601e5460a087019081526001600160a01b0388166000908152602e865260408082208b8352875280822089518155975160018901558089015160028901556060890151600389015593516004880155905160058701559051600690950194909455918052912060070154612d299163ffffffff61417116565b6000848152602080526040902060070155602580546001019055602654612d56903463ffffffff61417116565b60265560408051348152905184916001600160a01b038516917ffd8c857fb9acd6f4ad59b8621a2a77825168b7b4b76de9586d08e00d4ed462be9181900360200190a3505050565b33612da882614640565b612db181614640565b816001600160a01b0316816001600160a01b03161415612e0b576040805162461bcd60e51b815260206004820152601060248201526f7468652073616d65206164647265737360801b604482015290519081900360640190fd5b6000612e16826122f2565b9050612e218161445c565b6001600160a01b0383166000908152602160205260409020541580612e5d57506001600160a01b03831660009081526021602052604090205481145b612ea5576040805162461bcd60e51b81526020600482015260146024820152731859191c995cdcc8185b1c9958591e481d5cd95960621b604482015290519081900360640190fd5b6000818152602080805260408083206009810180546001600160a01b0319166001600160a01b03898116918217909255878216808752602186528487208790559086528386208790556008909201541684528184208590558352602c825280832083805290915290205415612f53576001600160a01b038281166000908152602c60208181526040808420848052808352818520958916855292825280842084805282528320845490555290555b826001600160a01b0316826001600160a01b0316827f7cc102ee500cbca85691c9642080562e8f012b04d27f5b7f389453672b20694660405160405180910390a4505050565b336000612fa5826122f2565b9050612fb081614266565b612fb9816142ca565b6000818152603060205260409020541580612fe4575060008181526030602052604090206001015442115b613027576040805162461bcd60e51b815260206004820152600f60248201526e1cdd185ad9481a5cc81b1bd8dad959608a1b604482015290519081900360640190fd5b60008181526020805260408120600501546130479190839085908061434b565b61304f611a99565b6000828152602080526040808220600381019390935542600490930192909255905182917ff7c308d0d978cce3aec157d1b34e355db4636b4e71ce91b4f5ec9e7a4f5cdc6091a25050565b6130a2611c53565b6130e1576040805162461bcd60e51b815260206004820181905260248201526000805160206153d2833981519152604482015290519081900360640190fd5b601e548111613137576040805162461bcd60e51b815260206004820152601760248201527f63616e277420737461727420696e207468652070617374000000000000000000604482015290519081900360640190fd5b602f5415806131495750601e54602f54115b613190576040805162461bcd60e51b81526020600482015260136024820152721999585d1d5c99481dd85cc81cdd185c9d1959606a1b604482015290519081900360640190fd5b602f55565b6131a1333334846147c2565b50565b600060646304c4b400611668565b6001600160a01b038416600090815260296020526040812060040154819081901561320e5760405162461bcd60e51b815260040180806020018281038252602581526020018061538c6025913960400191505060405180910390fd5b6132166152cb565b506001600160a01b0387166000908152602e602090815260408083208984528252808320815160e08101835281548152600180830154948201949094526002820154928101929092526003810154606083015260048101546080830152600581015460a0830181905260069091015460c083015290929161329991899101614a0b565b905081606001516000146132a957fe5b808260a00151106132c45760009450925083915061331b9050565b600080825b601e5481111580156132dc575088840181105b15613310576133018c8c8388608001516132f4612108565b6132fc61165e565b614d4c565b909201919050600181016132c9565b509095509093509150505b9450945094915050565b6000613330336122f2565b905061333a611169565b341015613384576040805162461bcd60e51b81526020600482015260136024820152721a5b9cdd59999a58da595b9d08185b5bdd5b9d606a1b604482015290519081900360640190fd5b61338d81614ce9565b60008181526020805260408120600501546133ae903463ffffffff61417116565b600083815260208052604090206005018190556024549091506133d7903463ffffffff61417116565b60245560408051828152346020820152815184927fa1d93e9a2a16bf4c2d0cdc6f47fe0fa054c741c96b3dac1297c79eaca31714e9928290030190a25050565b3361342181614640565b61342b8183614b5b565b6134358183614bde565b6001600160a01b0381166000908152602e602090815260408220918490525261345c611169565b3410156134a6576040805162461bcd60e51b81526020600482015260136024820152721a5b9cdd59999a58da595b9d08185b5bdd5b9d606a1b604482015290519081900360640190fd5b60008281526020805260409020600701546134c7903463ffffffff61417116565b60008381526020805260409020600501546134e19061432a565b1015613534576040805162461bcd60e51b815260206004820152601a60248201527f7374616b65722773206c696d6974206973206578636565646564000000000000604482015290519081900360640190fd5b61353d82614ce9565b6001600160a01b0381166000908152602e60209081526040808320858452909152812060040154613574903463ffffffff61417116565b6001600160a01b0383166000908152602e6020908152604080832087845282528083206004018490559080529020600701549091506135b9903463ffffffff61417116565b60008481526020805260409020600701556026546135dd903463ffffffff61417116565b60265560408051828152346020820152815185926001600160a01b038616927f4ca781bfe171e588a2661d5a7f2f5f59df879c53489063552fbad2145b707fc1929081900390910190a361363182846118e8565b611cd383613967565b60316020908152600092835260408084209091529082529020805460019091015482565b3361366881614640565b6136706152cb565b506001600160a01b0381166000908152602e60209081526040808320858452825291829020825160e0810184528154815260018201549281019290925260028101549282019290925260038201546060820181905260048301546080830152600583015460a083015260069092015460c082015290613736576040805162461bcd60e51b815260206004820152601d60248201527f64656c65676174696f6e207761736e2774206465616374697661746564000000604482015290519081900360640190fd5b60008381526020805260409020600501541561380b57613754611896565b8160600151014210156137a7576040805162461bcd60e51b81526020600482015260166024820152751b9bdd08195b9bdd59da081d1a5b59481c185cdcd95960521b604482015290519081900360640190fd5b6137af611300565b8160400151016137bd611a99565b101561380b576040805162461bcd60e51b81526020600482015260186024820152771b9bdd08195b9bdd59da08195c1bd8da1cc81c185cdcd95960421b604482015290519081900360640190fd5b6000838152602080805260408083205460808501516001600160a01b038716808652602e8552838620898752855283862086815560018181018890556002820188905560038201889055600482018890556005820188905560069091018790559086526031855283862089875290945291842084815583018490556025805460001901905560265492161515916138a8908263ffffffff61478016565b602655816138ec576040516001600160a01b0386169082156108fc029083906000818181858888f193505050501580156138e6573d6000803e3d6000fd5b506138f0565b8092505b602754613903908463ffffffff61417116565b60275560408051848152905187916001600160a01b038816917f87e86b3710b72c10173ca52c6a9f9cf2df27e77ed177741a8b4feb12bb7a606f9181900360200190a3505050505050565b6030602052600090815260409020805460019091015482565b6139708161445c565b600081815260208080526040918290206005810154600790910154835191825291810191909152815183927f509404fa75ce234a1273cf9f7918bcf54e0ef19f2772e4f71b6526606a723b7c928290030190a250565b6139ce611c53565b613a0d576040805162461bcd60e51b815260206004820181905260248201526000805160206153d2833981519152604482015290519081900360640190fd5b6131a181614eae565b602f5415801590613a3c5750601e54613a3690600163ffffffff61417116565b602f5411155b613a89576040805162461bcd60e51b81526020600482015260196024820152781999585d1d5c99481dd85cc81b9bdd081858dd1a5d985d1959603a1b604482015290519081900360640190fd5b6000613a94336122f2565b9050613a9f81614266565b621275008210158015613ab657506301e133808211155b613afc576040805162461bcd60e51b815260206004820152601260248201527134b731b7b93932b1ba10323ab930ba34b7b760711b604482015290519081900360640190fd5b613b0c428363ffffffff61417116565b60008281526030602052604090206001015410613b64576040805162461bcd60e51b81526020600482015260116024820152700616c7265616479206c6f636b656420757607c1b604482015290519081900360640190fd5b6000613b76428463ffffffff61417116565b90506040518060400160405280613b8b611a99565b815260209081018390526000848152603082526040902082518155910151600190910155817f71f8e76b11dde805fa567e857c4beba340500f4ca9da003520a25014f542162b613bd9611a99565b60408051918252602082018590528051918290030190a2505050565b336000818152602d602090815260408083208584529091529020600201548190613c5e576040805162461bcd60e51b81526020600482015260156024820152741c995c5d595cdd08191bd95cdb89dd08195e1a5cdd605a1b604482015290519081900360640190fd5b6001600160a01b0382166000908152602d6020908152604080832086845290915290206004810154905460ff90911690818015613caa5750600081815260208052604090206005015415155b15613db757613cb7611896565b6001600160a01b0385166000908152602d6020908152604080832089845290915290206002015401421015613d2c576040805162461bcd60e51b81526020600482015260166024820152751b9bdd08195b9bdd59da081d1a5b59481c185cdcd95960521b604482015290519081900360640190fd5b613d34611300565b6001600160a01b0385166000908152602d6020908152604080832089845290915290206001015401613d64611a99565b1015613db2576040805162461bcd60e51b81526020600482015260186024820152771b9bdd08195b9bdd59da08195c1bd8da1cc81c185cdcd95960421b604482015290519081900360640190fd5b613ebf565b81613ebf57613dc4611896565b6001600160a01b0385166000908152602d6020908152604080832089845290915290206002015401421015613e39576040805162461bcd60e51b81526020600482015260166024820152751b9bdd08195b9bdd59da081d1a5b59481c185cdcd95960521b604482015290519081900360640190fd5b613e41611300565b6001600160a01b0385166000908152602d6020908152604080832089845290915290206001015401613e71611a99565b1015613ebf576040805162461bcd60e51b81526020600482015260186024820152771b9bdd08195b9bdd59da08195c1bd8da1cc81c185cdcd95960421b604482015290519081900360640190fd5b600081815260208080526040808320546001600160a01b0388168452602d83528184208985529092528220600381018054848355600180840186905560028401869055918590556004909201805460ff191690559091161515908415613f3a57602654613f32908263ffffffff61478016565b602655613f51565b602454613f4d908263ffffffff61478016565b6024555b81613f92576040516001600160a01b0387169082156108fc029083906000818181858888f19350505050158015613f8c573d6000803e3d6000fd5b50613f96565b8092505b8415613fb757602754613faf908463ffffffff61417116565b602755613fce565b602854613fca908463ffffffff61417116565b6028555b604080518981528615156020820152808201859052905185916001600160a01b03808a1692908b16917fd5304dabc5bd47105b6921889d1b528c4b2223250248a916afd129b1c0512ddd919081900360600190a45050505050505050565b3361403681614640565b6140408183614b5b565b600080600061405284866000896131b2565b6001600160a01b0387166000908152602e602090815260408083208b8452909152902060050154929550909350915061408c9083836144b5565b6001600160a01b0384166000908152602e6020908152604080832088845290915290206005018190556140bf8484614590565b6040805184815260208101849052808201839052905186916001600160a01b038716917f2676e1697cf4731b93ddb4ef54e0e5a98c06cccbbbb2202848a3c6286595e6ce9181900360600190a3505050505050565b60208052600090815260409020805460018201546002830154600384015460048501546005860154600687015460078801546008890154600990990154979896979596949593949293919290916001600160a01b0391821691168a565b600082820183811015612169576040805162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f770000000000604482015290519081900360640190fd5b6000826141da5750600061216c565b828202828482816141e757fe5b04146121695760405162461bcd60e51b81526004018080602001828103825260218152602001806153b16021913960400191505060405180910390fd5b600061216983836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250614f4e565b61426f8161445c565b6000818152602080526040902060040154156131a1576040805162461bcd60e51b81526020600482015260156024820152741cdd185ad95c881a5cc819195858dd1a5d985d1959605a1b604482015290519081900360640190fd5b601e546000828152602080526040902060060154146131a1576040805162461bcd60e51b81526020600482015260176024820152761b9bdd08185b1b081c995dd85c991cc818db185a5b5959604a1b604482015290519081900360640190fd5b600061216c620f42406111de61433e611359565b859063ffffffff6141cb16565b614355858561211b565b1561445557600061436c828463ffffffff61478016565b6001600160a01b0385166000908152602c602090815260408083208380529091528120549192506143a7846111de848663ffffffff6141cb16565b9050806143d7576001600160a01b0386166000908152602c602090815260408083208380529091528120556143fe565b6001600160a01b0386166000908152602c6020908152604080832083805290915290208190555b818114614451576040805189151581528284036020820152815189926001600160a01b038a16927f0ea92567e76d40ddc52d2c1d74a521a59329a38b50411451de6ad2e565466d0f929081900390910190a35b5050505b5050505050565b60008181526020805260409020600501546131a1576040805162461bcd60e51b81526020600482015260146024820152731cdd185ad95c88191bd95cdb89dd08195e1a5cdd60621b604482015290519081900360640190fd5b818310614501576040805162461bcd60e51b8152602060048201526015602482015274195c1bd8da081a5cc8185b1c9958591e481c185a59605a1b604482015290519081900360640190fd5b601e54821115614547576040805162461bcd60e51b815260206004820152600c60248201526b0cceae8eae4ca40cae0dec6d60a31b604482015290519081900360640190fd5b81811015611cd3576040805162461bcd60e51b81526020600482015260116024820152701b9bc8195c1bd8da1cc818db185a5b5959607a1b604482015290519081900360640190fd5b8061459a5761463c565b6145a2611ab6565b156145e3576040516001600160a01b0383169082156108fc029083906000818181858888f193505050501580156145dd573d6000803e3d6000fd5b5061463c565b6001600160a01b0382166000908152602c60209081526040808320838052909152902054614617908263ffffffff61417116565b6001600160a01b0383166000908152602c602090815260408083208380529091529020555b5050565b6001600160a01b038116600090815260296020526040902060040154156131a1576001600160a01b03166000818152602960208181526040808420602e8352818520600680830180548852918552928620825481556001808401805491830191909155600280850180549184019190915560038086018054918501919091556004808701805491860191909155600580880180549187019190915586549590980194909455998952969095529186905592859055928490559383905590829055918190559055565b6001600160a01b0382166000908152602e6020908152604080832084845290915290206004015461463c576040805162461bcd60e51b815260206004820152601860248201527f64656c65676174696f6e20646f65736e27742065786973740000000000000000604482015290519081900360640190fd5b600061216983836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250614ff0565b6001600160a01b0384166000908152602160205260409020541580156147fe57506001600160a01b038316600090815260216020526040902054155b614847576040805162461bcd60e51b81526020600482015260156024820152747374616b657220616c72656164792065786973747360581b604482015290519081900360640190fd5b61484f61187a565b821015614899576040805162461bcd60e51b81526020600482015260136024820152721a5b9cdd59999a58da595b9d08185b5bdd5b9d606a1b604482015290519081900360640190fd5b60228054600101908190556001600160a01b03808616600090815260216020908152604080832085905592871682528282208490558382528052206005018390556148e2611a99565b600082815260208052604090206001808201929092554260028201556008810180546001600160a01b03808a166001600160a01b03199283161790925560098301805492891692909116919091179055601e54600690910155602380549091019055602454614957908463ffffffff61417116565b6024556040805184815290516001600160a01b0387169183917f0697dfe5062b9db8108e4b31254f47a912ae6bbb78837667b2e923a6f5160d399181900360200190a38151156149aa576149aa826117c5565b836001600160a01b0316856001600160a01b03161461445557836001600160a01b0316856001600160a01b0316827f7cc102ee500cbca85691c9642080562e8f012b04d27f5b7f389453672b20694660405160405180910390a45050505050565b600082614a1957508061216c565b5090919050565b600080614a358585614a3061165e565b61504a565b6000858152601f60209081526040808320898452909152812080546001909101549293509190614a658383614171565b905080614a79576000945050505050614b54565b6000614aa2614a95620f42406111de868b63ffffffff6141cb16565b859063ffffffff61417116565b9050614ab8826111de878463ffffffff6141cb16565b95506000602f54118015614ace5750602f548810155b15614b4e576000898152603060205260409020548810801590614b2c5750601f6000614b018a600163ffffffff61478016565b815260200190815260200160002060010154603060008b815260200190815260200160002060010154115b15614b4e57614b4b614b3e858a61516e565b879063ffffffff61417116565b95505b50505050505b9392505050565b614b658282614708565b6001600160a01b0382166000908152602e602090815260408083208484529091529020600301541561463c576040805162461bcd60e51b815260206004820152601960248201527f64656c65676174696f6e20697320646561637469766174656400000000000000604482015290519081900360640190fd5b601e546001600160a01b0383166000908152602e602090815260408083208584529091529020600501541461463c576040805162461bcd60e51b81526020600482015260176024820152761b9bdd08185b1b081c995dd85c991cc818db185a5b5959604a1b604482015290519081900360640190fd5b6001600160a01b0383166000818152602e6020908152604080832086845282528083206004015493835260318252808320868452909152812054909182915b601e548111614cde576000614cba88888486614cad612108565b6132fc60026111de61165e565b9050614cd3614a95846111de848a63ffffffff6141cb16565b935050600101614c93565b509095945050505050565b614cf281614266565b6000818152602080526040902054156131a1576040805162461bcd60e51b81526020600482015260176024820152767374616b65722073686f756c642062652061637469766560481b604482015290519081900360640190fd5b600080614d5a87878561504a565b6000878152601f602090815260408083208b8452909152812080546001909101549293509190614d8a8383614171565b905080614d9e576000945050505050614ea4565b6000614dc7620f42406111de614dba828c63ffffffff61478016565b8c9063ffffffff6141cb16565b9050614ddd826111de878463ffffffff6141cb16565b95506000602f54118015614df35750602f548a10155b15614e9e576001600160a01b038c1660009081526031602090815260408083208e84529091529020548a10801590614e895750601f6000614e3b8c600163ffffffff61478016565b815260200190815260200160002060010154603160008e6001600160a01b03166001600160a01b0316815260200190815260200160002060008d815260200190815260200160002060010154115b15614e9e57614e9b614b3e8a8c61516e565b95505b50505050505b9695505050505050565b6001600160a01b038116614ef35760405162461bcd60e51b81526004018080602001828103825260268152602001806153236026913960400191505060405180910390fd5b600080546040516001600160a01b03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a3600080546001600160a01b0319166001600160a01b0392909216919091179055565b60008183614fda5760405162461bcd60e51b81526004018080602001828103825283818151815260200191508051906020019080838360005b83811015614f9f578181015183820152602001614f87565b50505050905090810190601f168015614fcc5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b506000838581614fe657fe5b0495945050505050565b600081848411156150425760405162461bcd60e51b8152602060048201818152835160248401528351909283926044909101919085019080838360008315614f9f578181015183820152602001614f87565b505050900390565b6000828152601f6020908152604080832060048101548785529281905290832060028101546005909201546003909101548483156150f7576000888152601f6020526040812060068101546002909101546150aa9163ffffffff6141cb16565b90506000602f541180156150c05750602f548910155b156150df576150dc620f42406111de838b63ffffffff6141cb16565b90505b6150f3866111de838863ffffffff6141cb16565b9150505b60008215615150576000898152601f60205260409020600301546151279085906111de908663ffffffff6141cb16565b905061514d620f42406111de61513b61165e565b8490620f42400363ffffffff6141cb16565b90505b615160828263ffffffff61417116565b9a9950505050505050505050565b6000818152601f60205260408120600a015415615200576000828152601f6020526040812060068101546002909101546151ad9163ffffffff6141cb16565b6000848152601f60205260409020600a01549091506151f8906111de866151ec620f4240836151da61165e565b8890620f42400363ffffffff6141cb16565b9063ffffffff6141cb16565b91505061216c565b50600092915050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061524a57805160ff1916838001178555615277565b82800160010185558215615277579182015b8281111561527757825182559160200191906001019061525c565b50615283929150615308565b5090565b50805460018160011615610100020316600290046000825580601f106152ad57506131a1565b601f0160209004906000526020600020908101906131a19190615308565b6040518060e00160405280600081526020016000815260200160008152602001600081526020016000815260200160008152602001600081525090565b61117391905b80821115615283576000815560010161530e56fe4f776e61626c653a206e6577206f776e657220697320746865207a65726f20616464726573737374616b65722773206c6f636b696e672077696c6c2066696e6973682066697273746d757374206c65617665206174206c65617374206d696e44656c65676174696f6e6f6c642076657273696f6e2064656c65676174696f6e2c20706c6561736520757064617465536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f774f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e6572a265627a7a723158209a5e8c8e12568ca3b29d8f3e6b69cf56677f2626c471b9009f7608dc4643a64564736f6c63430005110032"});
  do {
      res = ftm.getTransactionReceipt(receipt);
  } while (!res);
console.log("New SFC deployed at", res.contractAddress);


oldImpl = proxy.implementation({from: ftm.coinbase});
console.log("Old SFC was", oldImpl);

proxy.upgradeTo(res.contractAddress, {from: ftm.coinbase});
  i = 0;
  do {
      newImpl = proxy.implementation({from: ftm.coinbase});
      i++;
  } while(newImpl == oldImpl && i<100000);
console.log("Now SFC is", newImpl);

sfc = web3.ftm.contract(sfcAbi).at(proxyAddr);
epoch = Number(sfc.currentEpoch());
console.log("current epoch:", epoch);

accounts = ftm.accounts;
if (accounts.length < 2) {
  personal.newAccount('');
  personal.newAccount('');
}

balance = Number(web3.ftm.getBalance(ftm.coinbase));
console.log("balance:", balance);

minStake = Number(sfc.minStake());
console.log("min stake:", minStake);

if (balance < minStake) {
  console.log("balance < min stake. Wait");
} else {
  console.log("coinbase:", ftm.coinbase);
  coinbaseStakerID = Number(sfc.getStakerID(ftm.coinbase));
  console.log("coinbaseStakerID:", coinbaseStakerID);
  stake = sfc.stakers(coinbaseStakerID);
  console.log("coinbase stake:", stake);
  accounts = ftm.accounts;
  console.log("accounts:", accounts);

  account1stakerID = Number(sfc.getStakerID(accounts[1]));
  console.log("account_1 stakerID:", account1stakerID);
  if (account1stakerID == 0) {
    if (stake[9] == "0x0000000000000000000000000000000000000000") { // stake[9] is sfc address
      //sfc._upgradeStakerStorage(coinbaseStakerID);
      // console.log("_upgradeStakerStorage");
      //   i = 0;
      //   do {
      //     stake = sfc.stakers(coinbaseStakerID);
      //     i++;
      //   } while(stake[9] == "0x0000000000000000000000000000000000000000" && i<100000);
      // sfc.updateStakerSfcAddress(accounts[1]);
      //   i = 0;
      //   do {
      //     stake = sfc.stakers(coinbaseStakerID);
      //     i++;
      //   } while(stake[9] == ftm.coinbase && i<100000);
      // console.log("updateStakerSfcAddress");
      // id = Number(sfc._sfcAddressToStakerID(ftm.coinbase));
      // console.log("id", id);
      // } else {
      //    sfc.createStakeWithAddresses(accounts[1], accounts[2], "", { from: ftm.coinbase, value: 10000000000000000000000000});
      //    i = 0;
      //    account2StakerID = Number(sfc.getStakerID(accounts[2]));
      //    console.log("account_2 StakerID:", account2StakerID);
      //    // do {
      //       stake = sfc.stakers(account2StakerID);
      //    //   i++;
      //    // } while(stake[9] == "0x0000000000000000000000000000000000000000" && i<100000 );
      //    console.log("coinbase stake:", stake);
    }
  }
  console.log("coinbase stake:", stake);
  //check epochSnapshots
  firstLockedUpEpoch = Number(sfc.firstLockedUpEpoch());
  console.log("firstLockedUpEpoch:", firstLockedUpEpoch)
  if (firstLockedUpEpoch == 0 || firstLockedUpEpoch > epoch) {
    //  sfc.startLockedUp(epoch + 1, {from: ftm.coinbase});
    //   i = 0;
    //   do {
    //     newLockedUpEpoch = sfc.firstLockedUpEpoch();
    //     i++;
    //   } while(newLockedUpEpoch == firstLockedUpEpoch && i<100000 );
    // firstLockedUpEpoch = sfc.firstLockedUpEpoch();
    // console.log("firstLockedUpEpoch:", firstLockedUpEpoch)
  }
  //sfc.lockUpStake(1209600, { from: ftm.coinbase }); // 1209600 - 2 week
}
